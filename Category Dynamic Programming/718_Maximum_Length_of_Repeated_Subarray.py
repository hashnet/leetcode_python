from typing import List
import sys

class Solution:
    def findLength(self, A: List[int], B: List[int]) -> int:
        table = [[0] * len(B) for _ in range(len(A))]

        maxim = 0
        for i in range(len(A)):
            if A[i] == B[0]:
                table[i][0] = 1
                maxim = 1

        for j in range(len(B)):
            if A[0] == B[j]:
                table[0][j] = 1
                maxim = 1

        for i in range(1, len(A)):
            for j in range(1, len(B)):
                if A[i] == B[j]:
                    table[i][j] = 1 + table[i-1][j-1]
                    maxim = max(maxim, table[i][j])

        return maxim

    # def findLength(self, A: List[int], B: List[int]) -> int:
    #     memo = [[None for _ in range(len(B))] for _ in range(len(A))]

    #     def DP(i: int, j: int) -> int:
    #         if i<0 or j<0:
    #             return (0, 0)
                
    #         if memo[i][j] != None:
    #             return memo[i][j]

    #         ret = DP(i-1, j-1)
    #         maxim = ret[0]
    #         contMax = ret[1]
    #         if A[i] == B[j]:
    #             contMax += 1
    #             maxim = max(maxim, contMax)
    #         else:
    #             contMax = 0

    #         maxim = max(maxim, max(DP(i-1, j)[0], DP(i, j-1)[0]))

    #         memo[i][j] = (maxim, contMax)
    #         return memo[i][j]

    #     return DP(len(A)-1, len(B)-1)[0]


if __name__ == "__main__":
    s = Solution()

    sys.setrecursionlimit(2000)
    print(s.findLength([1,2,3,2,1], [3,2,1,4,7]))
    print(s.findLength([5,14,53,80,48], [50,47,3,80,83]))
    print(s.findLength([0,1,1,1,1], [1,0,1,0,1]))
    print(s.findLength([0,66,79,4,48,18,2,15,66,33,50,72,52,62,67,7,65,37,17,31,72,67,42,59,61,80,15,71,32,1,4,96,80,42,26,3,4,30,69,25,7,51,61,46,96,81,58,79,68,97,14,28,31,94,35,25,80,86,69,13,79,99,41,99,18,40,20,23,21,23,94,25,20,68,34,12,87,58,72,17,24,82,3,27,39,35,40,96,87,70,4,86,66,31,45,24,31,84,16,11,68,24,73,55,92,11,20,70,90,32,96,84,85,92,63,24,98,69,90,72,99,75,66,74,64,25,29,68,49,38,86,7,80,37,23,60,12,93,8,60,62,7,41,31,41,46,83,31,50,18,96,56,25,53,43,98,62,90,81,29,9,12,31,71,93,52,14,40,24,25,50,42,35,49,3,31,60,64,5,14,65,12,0,65,70,11,56,9,14,62,86,11,59,38,88,73,91,32,73,15,57,55,10,46,42,34,53,43,49,42,76,96,28,84,25,39,44,91,9,67,89,49,84,69,29,66,97,68,22,20,31,22,30,54,36,91,9,99,62,18,30,12,39,12,87,93,37,85,31,53,27,73,79,79,57,84,22,39,47,2,98,72,34,40,12,65,41,85,38,71,10,24,74,44,29,90,73,79,44,11,63,53,38,21,77,36,41,90,74,83,94,84,60,2,83,91,77,43,16,8,96,55,22,0,95,89,32,43,51,14,94,57,96,41,40,4,37,87,96,99,10,74,17,98,15,67,64,55,41,49,4,86,55,11,37,99,11,76,25,3,90,7,24,66,87,57,12,64,30,45,43,8,24,36,61,86,88,11,7,37,3,80,88,13,6,2,53,74,87,84,15,40,85,0,44,59,97,97,73,14,53,55,44,84,47,23,97,15,58,89,26,60,56,49,63,33,99,41,95,66,73,57,97,17,37,68,76,10,35,91,26,57,23,61,64,97,0,98,54,94,98,7,17,41,33,41,39,37,70,11,67,74,19,38,63,67,3,27,3,86,98,11,31,53,59,85,38,27,65,2,89,76,79,79,37,73,6,97,57,52,2,27,39,73,14,2,95,67,26,90,82,61,51,95,97,98,15,88,0,57,26,18,91,52,53,87,24,81,11,21,20,41,0,51,37,44,6,26,31,97,17,49,36,70,93,55,2,78,34,59,88,54,37,41,39,19,83,90,89,84,71,87,38,74,71,65,31,76,29,95,81,55,46,57,9,2,92,43,20,23,91,48,1,8,13,5,46,65,32,52,30,20,63,33,82,60,65,79,3,57,41,16,39,83,16,51,9,14,45,66,68,60,66,70,18,13,23,76,67,14,88,99,20,3,42,66,76,76,23,1,71,45,82,60,33,46,38,2,6,58,28,68,52,29,52,42,44,10,11,32,59,2,43,63,26,35,42,7,5,74,23,97,48,36,52,69,38,77,95,77,92,12,49,87,39,28,20,39,71,9,44,47,65,27,55,99,37,33,30,97,44,98,8,73,97,5,86,97,63,23,0,67,83,78,49,71,30,8,61,84,49,19,94,69,68,37,32,89,48,76,12,31,62,99,2,3,79,93,18,59,49,23,70,40,9,34,21,32,56,9,64,39,51,62,55,74,89,93,82,81,51,20,32,20,43,29,30,48,29,97,9,87,94,22,42,60,31,55,74,34,71,43,52,60,67,29,51,25,45,74,73,77,6,68,32,50,35,62,97,75,71,84,23,31,14,97,78,32,94,26,4,18,37,78,41,36,57,44,85,62,21,50,9,0,46,39,78,93,60,4,19,17,39,30,11,35,32,0,72,25,14,78,2,5,1,36,15,87,30,13,57,54,80,91,44,29,63,69,10,59,28,33,19,79,82,21,2,25,6,69,78,28,2,39,99,85,95,2,33,48,80,15,45,67,43,46,31,35,34,58,83,74,11,1,20,52,92,64,33,25,4,27,44,33,92,49,37,58,74,89,10,85,61,61,39,9,14,24,17,8,49,72,27,31,86,9,57,27,91,43,96,14,30,50,60,41,51,98,50,31,42,26,28,57,77,12,1,28,78,40,8,11,38,7,87,34,90,43,26,9,32,54,74,66,40,41,15,71,49,76,70,96,84,49,82,85,16,72,7,75,10,75,71,46,85,83,64,2,14,72,42,53,56,58,22,59,5,55,25,19,70,47,77,14,61,10,54,1,12,41,40,13,28,19,22,30,72,18,23,80,36,90,3,6,67,86,16,82,66,97,53,46,50,30,71,12,28,26,36,78,38,80,84,15,9,66,27,56,53,28],
                       [71,8,36,92,31,7,63,84,46,63,47,32,37,30,13,87,46,1,16,21,18,65,15,93,14,83,93,47,12,77,4,72,24,89,75,15,52,99,28,11,73,23,39,99,41,38,68,3,70,5,93,22,43,55,41,2,60,49,71,97,2,33,58,5,65,12,63,67,41,79,62,12,21,88,80,1,88,48,1,62,3,17,31,25,53,90,7,40,42,91,48,94,76,17,38,46,93,61,8,93,83,47,73,1,71,37,66,98,14,74,35,94,70,70,83,78,2,68,70,17,99,67,72,1,35,0,8,64,98,99,45,27,34,48,23,50,6,82,75,26,20,58,0,10,55,67,79,61,17,72,39,14,98,51,52,96,13,88,10,8,43,17,50,62,40,48,99,19,92,51,20,98,81,90,60,41,58,99,12,82,46,30,46,32,19,21,10,39,25,29,3,99,75,63,61,96,59,96,88,21,22,52,98,77,39,58,65,27,73,58,17,36,61,95,75,8,14,98,0,52,79,16,95,97,50,58,35,19,15,82,88,81,82,43,67,47,24,30,92,82,84,90,88,88,85,42,90,31,75,58,55,16,30,34,12,84,72,38,24,5,64,26,2,52,1,66,83,38,50,86,22,39,28,0,66,93,91,82,50,23,55,42,45,20,4,9,57,36,24,14,84,11,76,44,83,25,99,52,10,60,99,86,56,50,7,15,32,79,47,55,77,59,18,71,0,98,27,96,55,27,42,71,61,38,72,61,48,97,29,16,34,14,41,45,87,6,30,64,67,30,77,89,70,55,4,40,89,10,13,44,38,40,94,68,43,83,27,17,58,13,99,23,33,41,52,41,14,65,93,0,50,25,73,6,11,98,98,34,23,81,36,79,46,86,99,29,16,15,83,54,2,70,97,11,31,27,46,83,72,56,57,24,14,32,85,49,42,25,57,72,42,41,25,73,45,53,67,49,15,44,37,8,22,37,8,54,86,95,31,55,93,91,4,42,86,84,83,16,80,49,56,93,80,31,21,95,61,79,10,22,98,16,33,98,16,99,19,28,36,24,34,30,8,84,83,95,57,40,92,20,56,8,32,54,6,76,7,76,8,60,45,47,21,45,85,18,9,91,37,55,52,75,71,43,47,30,73,71,30,73,37,9,37,23,27,39,79,97,61,37,88,35,65,32,28,80,95,74,48,66,8,19,52,36,6,75,77,92,51,67,35,92,51,36,30,20,99,86,8,19,99,19,57,89,65,48,83,89,24,67,93,23,67,69,0,14,65,77,0,83,30,20,46,57,8,21,86,21,61,42,91,61,16,88,73,87,33,10,35,52,90,94,31,40,77,0,68,36,19,4,24,23,35,83,80,44,83,92,51,57,50,48,76,57,81,23,0,38,24,96,34,93,33,90,63,43,47,24,10,3,65,26,47,36,7,81,35,53,39,41,13,93,89,27,14,47,57,66,56,25,69,60,74,0,76,69,86,11,81,69,35,7,1,43,13,85,30,10,67,26,12,63,9,41,4,79,87,59,57,67,65,55,32,98,62,2,14,15,49,51,93,70,5,96,63,91,45,64,50,0,2,71,29,55,77,38,63,99,20,73,84,28,91,16,13,55,7,65,9,8,50,40,73,25,35,37,23,89,28,40,54,6,21,79,51,80,68,59,67,98,8,36,90,93,87,33,10,91,72,8,75,75,58,99,81,24,73,77,7,73,22,98,22,52,50,56,30,69,41,82,25,93,4,41,74,77,1,50,52,28,69,48,27,39,63,27,71,20,45,12,23,24,94,28,66,90,96,92,21,65,58,81,17,53,68,86,23,62,2,70,16,93,5,33,46,80,22,9,71,22,86,71,82,79,98,59,40,82,18,70,26,51,5,43,46,59,24,39,98,40,94,84,75,43,87,29,40,66,31,65,24,76,63,73,31,62,83,2,31,2,8,57,35,40,62,97,95,50,79,35,87,2,76,3,17,95,16,83,67,50,23,49,78,69,45,83,44,11,78,58,23,23,20,38,61,51,95,75,92,13,32,47,44,63,28,44,46,80,86,64,3,88,94,81,33,31,4,44,98,43,14,82,87,68,56,98,89,83,66,34,4,88,16,13,0,53,87,86,12,78,27,99,48,46,47,3,77,72,47,19,69,45,48,52,89,30,14,21,71,29,27,51,90,22,24,48,89,72,69,11,75,3,40,28,17,57,6,98,97,84,41,92,55,20,3,90,75,49,50,15,99,40,58,71,18,18,98,98,18,50,79,28,30,71,84,50,82,71,8,88]))